<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Final Quiz</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#eef2ff;
    margin:0;
}

.container{
    max-width:500px;
    margin:auto;
    padding:15px;
}

.card{
    background:white;
    padding:20px;
    border-radius:12px;
    box-shadow:0 5px 12px rgba(0,0,0,0.1);
}

h2,h3{text-align:center;}

input,button{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:8px;
    font-size:16px;
}

button{
    background:#4a6cf7;
    color:white;
    border:none;
    cursor:pointer;
}

.option-btn{
    display:block;
    width:100%;
    padding:12px;
    margin:8px 0;
    border-radius:10px;
    border:2px solid #4a6cf7;
    background:white;
    cursor:pointer;
    font-weight:bold;
}

.option-btn:hover{
    background:#dfe6ff;
}

.feedback{
    margin-top:10px;
    font-weight:bold;
}
</style>
</head>

<body>

<div class="container">

<div class="card" id="startPage">
<h2>Quiz Instructions</h2>
<p>• Each Question = 1 Mark</p>
<p>• Wrong Answer = -0.25</p>

<input type="text" id="name" placeholder="Enter Name">
<input type="text" id="class" placeholder="Enter Class">
<input type="text" id="section" placeholder="Enter Section">
<button onclick="startQuiz()">Start Quiz</button>
</div>

<div class="card" id="quizPage" style="display:none;">
<h3 id="studentInfo"></h3>
<div id="questionBox"></div>
<div class="feedback" id="feedback"></div>
<button id="nextBtn" onclick="nextQuestion()" style="display:none;">Next</button>
</div>

<div class="card" id="resultPage" style="display:none;">
<h2>Result</h2>
<p id="resultText"></p>
</div>

</div>

<script>

let current=0;
let score=0;
let studentName="";

const questions=[

/* SPORTS */

{
type:"mcq",
question:"One who enforces rules of a game in a match.",
options:["Umpire","Referee","Coach","Player"],
answer:"Umpire"
},

{
type:"mcq",
question:"Playing cards were first invented in this country.",
options:["China","India","Japan","USA"],
answer:"China"
},

{
type:"fill",
question:"The game called 'Battledore' is now known as ______.",
answer:"Badminton"
},

{
type:"mcq",
question:"Lord's Cricket Ground is in:",
options:["London","India","USA","Australia"],
answer:"London"
},

{
type:"mcq",
question:"Unusual sport created for Harry Potter books:",
options:["Quidditch","Cricket","Polo","Hockey"],
answer:"Quidditch"
},

/* MATHS FILL */

{
type:"fill",
question:"4 hours + 12 minutes = ______ minutes.",
answer:"252"
},

{
type:"fill",
question:"340 - (5 × 4 × 12) = ______",
answer:"100"
},

{
type:"fill",
question:"Six times 8 + nine times 5 = ______",
answer:"93"
},

{
type:"fill",
question:"First five multiples of 17 (comma separated)",
answer:"17,34,51,68,85"
},

{
type:"fill",
question:"HCF of 36 and 48 = ______",
answer:"12"
},

/* NEW INCLUDED QUESTIONS */

{
type:"mcq",
question:"The sum of three numbers is 25. Second is twice the first. Third exceeds second by 5. Find the numbers.",
options:[
"5, 10, 15",
"4, 8, 13",
"3, 6, 11",
"2, 4, 9"
],
answer:"4, 8, 13"
},

{
type:"mcq",
question:"The sum of three consecutive integers is 33. Find the integers.",
options:[
"10, 11, 12",
"9, 10, 11",
"11, 12, 13",
"8, 9, 10"
],
answer:"10, 11, 12"
},

{
type:"mcq",
question:"Alphabetical order reversed (Z=1, Y=2...). What does 4, 18, 1, 16, 18, 23 mean?",
options:[
"WIZKID",
"DRAGON",
"WELCOME",
"HELLO"
],
answer:"WIZKID"
}

];

function startQuiz(){
studentName=document.getElementById("name").value;
let cls=document.getElementById("class").value;
let sec=document.getElementById("section").value;

if(studentName==""||cls==""||sec==""){
alert("Fill all details");
return;
}

document.getElementById("startPage").style.display="none";
document.getElementById("quizPage").style.display="block";
document.getElementById("studentInfo").innerHTML=
"Name: "+studentName+" | Class: "+cls+" | Section: "+sec;

loadQuestion();
}

function loadQuestion(){
document.getElementById("feedback").innerHTML="";
document.getElementById("nextBtn").style.display="none";

let q=questions[current];
let box=document.getElementById("questionBox");
box.innerHTML="<p><b>Q"+(current+1)+". "+q.question+"</b></p>";

if(q.type=="mcq"){
q.options.forEach(opt=>{
let btn=document.createElement("div");
btn.className="option-btn";
btn.innerText=opt;
btn.onclick=function(){checkAnswer(opt)};
box.appendChild(btn);
});
}

if(q.type=="fill"){
let input=document.createElement("input");
input.type="text";
input.id="fillAnswer";
box.appendChild(input);

let btn=document.createElement("button");
btn.innerText="Submit";
btn.onclick=checkFill;
box.appendChild(btn);
}
}

function checkAnswer(selected){
let correct=questions[current].answer;

document.querySelectorAll(".option-btn").forEach(btn=>{
btn.onclick=null;
});

if(selected==correct){
score+=1;
document.getElementById("feedback").innerHTML="✅ Correct!";
}
else{
score-=0.25;
document.getElementById("feedback").innerHTML="❌ Wrong! Correct Answer: "+correct;
}

document.getElementById("nextBtn").style.display="block";
}

function checkFill(){
let user=document.getElementById("fillAnswer").value
.trim().toLowerCase().replace(/\s+/g,'');

let correct=questions[current].answer
.toLowerCase().replace(/\s+/g,'');

if(user==correct){
score+=1;
document.getElementById("feedback").innerHTML="✅ Correct!";
}
else{
score-=0.25;
document.getElementById("feedback").innerHTML="❌ Wrong! Correct Answer: "+questions[current].answer;
}

document.getElementById("nextBtn").style.display="block";
}

function nextQuestion(){
current++;
if(current<questions.length){
loadQuestion();
}
else{
showResult();
}
}

function showResult(){
document.getElementById("quizPage").style.display="none";
document.getElementById("resultPage").style.display="block";

let total=questions.length;
let percentage=(score/total)*100;

document.getElementById("resultText").innerHTML=
studentName+
"<br>Total Marks: "+score.toFixed(2)+" / "+total+
"<br>Percentage: "+percentage.toFixed(2)+"%";
}

</script>

</body>
</html>
